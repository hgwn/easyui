(function(d,c){var e=("createTouch" in document)||("ontouchstart" in d)||0,g=document.documentElement||document.getElementsByTagName("html")[0],f=("WebkitTransition" in g.style)||("MsTransition" in g.style)||("MozTransition" in g.style)||("OTransition" in g.style)||("transition" in g.style)||0,i=e?"touchstart":"mousedown",a=e?"touchmove":"mousemove",h=e?"touchend":"mouseup",b=function(k){this.opt=this.parse_args(k);this.container=this.$(this.opt.id);try{if(this.container.nodeName.toLowerCase()=="ul"){this.element=this.container;this.container=this.element.parentNode}else{this.element=this.container.getElementsByTagName("ul")[0]}if(typeof this.element==="undefined"){throw new Error('Can\'t find "ul"')}for(var j=0;j<this.instance.length;j++){if(this.instance[j]==this.container){throw new Error("An instance is running")}}this.instance.push(this.container);this.setup()}catch(l){this.status=-1;this.errorInfo=l.message}};b.prototype={_default:{id:"slider",fx:"ease-out",auto:0,speed:600,timeout:5000,className:"li_list",direction:"left",mouseWheel:false,before:new Function(),after:new Function()},instance:[],$:function(j){return document.getElementById(j)},$E:function(q,p,o){var k=[],n=o.getElementsByTagName(p);for(var m=0,l=n.length;m<l;m++){if((new RegExp("(?:^|\\s+)"+q+"(?:\\s+|$)")).test(n[m].className)){k.push(n[m])}}return k},isIE:function(){return !-[1,]},css:(function(){var k=function(o){switch(o){case"float":return("cssFloat" in document.body.style)?"cssFloat":"styleFloat";break;case"opacity":return("opacity" in document.body.style)?"opacity":{get:function(q,p){var r=p.filter;return r&&r.indexOf("opacity")>=0&&parseFloat(r.match(/opacity=([^)]*)/i)[1])/100+""||"1"},set:function(p,q){p.style.filter="alpha(opacity="+q*100+")";p.style.zoom=1}};break;default:var m=o.split("-");for(var n=1;n<m.length;n++){m[n]=m[n].substring(0,1).toUpperCase()+m[n].substring(1)}o=m.join("");return o;break}},j=function(n,p){p=k(p);var o=n.style[p];if(!o){var m=document.defaultView&&document.defaultView.getComputedStyle&&getComputedStyle(n,null)||n.currentStyle||n.style;if(typeof p=="string"){o=m[p]}else{o=p.get(n,m)}}return o=="auto"?"":o},l=function(p,o){var m;for(var n in o){m=k(n);if(typeof m=="string"){p.style[m]=o[n]}else{m.set(p,o[n])}}};return function(n,m){return typeof m=="string"?j(n,m):l(n,m)}})(),parse_args:function(l){var j={},m=Object.prototype.toString;if(l&&m.call(l)=="[object Object]"){for(var k in this._default){j[k]=typeof l[k]==="undefined"?this._default[k]:m.call(this._default[k])=="[object Number]"?parseInt(parseFloat(l[k])*100)/100:l[k]}}else{j=this._default}return j},addListener:function(k,m,l,j){if(k.addEventListener){k.addEventListener(m,l,j);return true}else{if(k.attachEvent){k.attachEvent("on"+m,l);return true}}return false},getMousePoint:function(m){var k=y=0,n=document.documentElement,j=document.body;if(!m){m=d.event}if(d.pageYoffset){k=d.pageXOffset;y=d.pageYOffset}else{k=(n&&n.scrollLeft||j&&j.scrollLeft||0)-(n&&n.clientLeft||j&&j.clientLeft||0);y=(n&&n.scrollTop||j&&j.scrollTop||0)-(n&&n.clientTop||j&&j.clientTop||0)}if(e&&m.touches.length){var l=m.touches[0];k+=l.clientX;y+=l.clientY}else{k+=m.clientX;y+=m.clientY}return{x:k,y:y}},bind:function(j,k){return function(){return j.apply(k,arguments)}},preventDefault:function(j){if(d.event){d.event.returnValue=false}else{j.preventDefault()}},setup:function(){this.status=0;this.slides=this.opt.className?this.$E(this.opt.className,"li",this.element):this.element.getElementsByTagName("li");this.length=this.slides.length;this.opt.timeout=Math.max(this.opt.timeout,this.opt.speed);this.touching=!!e;this.css3transition=!!f;this.index=this.opt.auto<0||this.opt.auto>=this.length?0:this.opt.auto;if(this.length<2){return}switch(this.opt.direction){case"up":this.direction="up";this.vertical=true;break;case"down":this.direction="down";this.vertical=true;break;case"right":this.direction="right";this.vertical=false;break;default:this.direction="left";this.vertical=false;break}this.resize();this.begin();this.addListener(this.element,i,this.bind(this._start,this),false);this.addListener(document,a,this.bind(this._move,this),false);this.addListener(document,h,this.bind(this._end,this),false);this.addListener(this.element,"webkitTransitionEnd",this.bind(this._transitionend,this),false);this.addListener(this.element,"msTransitionEnd",this.bind(this._transitionend,this),false);this.addListener(this.element,"oTransitionEnd",this.bind(this._transitionend,this),false);this.addListener(this.element,"transitionend",this.bind(this._transitionend,this),false);this.addListener(d,"resize",this.bind(function(){clearTimeout(this.resizeTimer);this.resizeTimer=setTimeout(this.bind(this.resize,this),100)},this),false);this.addListener(this.element,"mousewheel",this.bind(this.mouseScroll,this),false);this.addListener(this.element,"DOMMouseScroll",this.bind(this.mouseScroll,this),false)},resize:function(){var k;this.css(this.container,{overflow:"hidden",visibility:"hidden",listStyle:"none",position:"relative"});this.width=this.container.clientWidth-parseInt(this.css(this.container,"padding-left"))-parseInt(this.css(this.container,"padding-right"));this.height=$(document.body).height()-110;k={position:"relative",webkitTransitionDuration:"0ms",MozTransitionDuration:"0ms",msTransitionDuration:"0ms",OTransitionDuration:"0ms",transitionDuration:"0ms"};if(this.vertical){k.height=this.height*this.length+"px";k.top=-this.height*this.index+"px";this.css(this.container,{height:this.height+"px"})}else{k.width=this.width*this.length+"px";k.left=-this.width*this.index+"px"}this.css(this.element,k);for(var j=0;j<this.length;j++){this.css(this.slides[j],{width:this.width+"px","min-height":this.height+"px",display:this.vertical?"table-row":"table-cell",padding:0,margin:0,"float":"left",verticalAlign:"top"})}this.css(this.container,{visibility:"visible"})},slide:function(q,n){var v=this.vertical?"top":"left",x=this.vertical?"height":"width";q=q<0?this.length-1:q>=this.length?0:q;n=typeof n=="undefined"?this.opt.speed:parseInt(n);var l=this.element,k=null,j=l.style,p=this,w=0,u=parseInt(j[v])||0,s=-q*this[x]-u,r=Math.abs(s)<this[x]?Math.ceil(Math.abs(s)/this[x]*n/10):n/10,m=function(A,z,C,B){return -C*((A=A/B-1)*A*A*A-1)+z},o=function(){if(w<r&&!f){w++;j[v]=Math.ceil(m(w,u,s,r))+"px";k=setTimeout(o,10)}else{j[v]=-p[x]*q+"px";p.index=q;if(!f){p._transitionend()}p.pause();p.begin()}};j.WebkitTransition=j.MozTransition=j.msTransition=j.OTransition=j.transition=v+" "+(r*10)+"ms "+this.opt.fx;this.opt.before.call(this,q,this.slides[this.index]);o()},begin:function(){if(this.timer||this.opt.auto<0){return true}this.timer=setTimeout(this.bind(function(){this.direction=="left"||this.direction=="up"?this.next():this.prev()},this),this.opt.timeout);this.status=1},pause:function(){clearInterval(this.timer);this.timer=null;this.status=2},stop:function(){this.pause();this.index=0;this.slide(0);this.status=0},prev:function(k){k=typeof k=="undefined"?k=1:k%this.length;var j=k>this.index?this.length+this.index-k:this.index-k;this.slide(j)},next:function(j){if(typeof j=="undefined"){j=1}this.slide((this.index+j)%this.length)},_start:function(k){if(!this.touching){this.preventDefault(k)}this.element.onclick=null;this.startPos=this.getMousePoint(k);var j=this.element.style;j.webkitTransitionDuration=j.MozTransitionDuration=j.msTransitionDuration=j.OTransitionDuration=j.transitionDuration="0ms";this.scrolling=1;this.startTime=new Date()},_move:function(o){if(!this.scrolling||o.touches&&o.touches.length>1||o.scale&&o.scale!==1){return}var n=this.vertical?"top":"left",l=this.vertical?"height":"width",m=this.vertical?"y":"x",j=this.vertical?"x":"y";this.endPos=this.getMousePoint(o);var k=this.endPos[m]-this.startPos[m];if(this.scrolling===2||Math.abs(k)>=Math.abs(this.endPos[j]-this.startPos[j])){this.preventDefault(o);this.pause();k=k/((!this.index&&k>0||this.index==this.length-1&&k<0)?(Math.abs(k)/this[l]+1):1);this.element.style[n]=-this.index*this[l]+k+"px";if(k!=0){this.scrolling=2}}else{this.scrolling=0}},_end:function(n){if(typeof this.scrolling!="undefined"){try{var m=this.vertical?"y":"x",k=this.vertical?"height":"width",j=this.endPos[m]-this.startPos[m];if(this.scrolling===2){this.element.onclick=new Function("return false;")}}catch(l){j=0}if((new Date()-this.startTime<250&&Math.abs(j)>this[k]*0.1||Math.abs(j)>this[k]/2)&&((j<0&&this.index+1<this.length)||(j>0&&this.index>0))){j>0?this.prev():this.next()}else{this.slide(this.index)}delete this.scrolling;delete this.startPos;delete this.endPos;delete this.startTime;if(this.opt.auto>=0){this.begin()}}},mouseScroll:function(l){if(this.opt.mouseWheel){this.preventDefault(l);l=l||d.event;var k=l.wheelDelta||l.detail&&l.detail*-1||0,j=k/Math.abs(k);k>0?this.next():this.prev()}},_transitionend:function(j){this.opt.after.call(this,this.index,this.slides[this.index])}};d.TouchSlider=b})(window,undefined);